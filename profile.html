<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profile - ABECON 2025</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    xintegrity="sha512-SnH5WK+bZxgPHs44uWixn/LLJAJ96C/C/h4R/h12f5Qo4a4a16f5c868d4d4d2d6c14c5c2a1c2a12a14e1a12e12e1c14"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom right, #9BBE3C, #16650F);
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    .green-gradient-bg {
      background: linear-gradient(to right, #9BBE3C, #16650F);
    }

    .text-green-gradient {
      background: linear-gradient(to right, #9BBE3C, #16650F);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .card {
      background-color: white;
      border-radius: 2rem;
      padding: 3rem;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
    }

    .container {
      min-height: 100vh;
    }
  </style>
</head>

<body class="flex justify-center items-center p-4">

  <div class="container max-w-7xl mx-auto p-4 md:p-8 flex flex-col items-center">

    <div class="w-full flex justify-start mb-6">
      <a href="user.html" class="text-white hover:text-gray-200 transition-colors duration-200">
        <i class="fas fa-arrow-left mr-2"></i>Back
      </a>
    </div>

    <div class="card w-full">
      <div class="flex flex-row items-center justify-center gap-12">
        <!-- Profile Section -->
        <div class="flex flex-row items-center gap-4">
          <img id="profile-pic-preview" class="w-32 h-32 rounded-full border-4 border-[#9BBE3C] shadow-md"
            src="https://placehold.co/128x128/FFF7E6/745217?text=U" alt="User Avatar">
          <div>
            <h1 class="text-3xl font-bold text-gray-800">User's Name</h1>
            <p class="text-gray-500">Abecon 2025 Participant</p>
            <div class="mt-2 text-sm text-gray-600 space-y-1">
              <p><i class="fas fa-envelope mr-2"></i>user.email@example.com</p>
              <p><i class="fas fa-phone mr-2"></i>(123) 456-7890</p>
            </div>
          </div>
        </div>

      </div>


      <div class="mt-8 border-t border-gray-200 pt-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4 text-green-gradient">Account Settings</h2>
        <form id="password-form">
          <div class="mb-4">
            <label for="old-password" class="block text-gray-700 font-medium mb-2">Old Password</label>
            <input type="password" id="old-password"
              class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#9BBE3C]"
              required>
          </div>
          <div class="mb-4">
            <label for="new-password" class="block text-gray-700 font-medium mb-2">New Password</label>
            <input type="password" id="new-password"
              class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#9BBE3C]"
              required>
          </div>
          <button type="submit"
            class="w-full py-3 px-6 text-white font-semibold rounded-xl green-gradient-bg hover:brightness-110 transition-all duration-200 shadow-md">
            Change Password
          </button>
        </form>
      </div>

      <div class="mt-8 border-t border-gray-200 pt-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4 text-green-gradient">Attendance History</h2>
        <div class="space-y-4">
          <div class="bg-gray-50 p-4 rounded-lg flex items-center justify-between">
            <div>
              <p class="font-semibold text-gray-700">Hackathon</p>
              <p class="text-sm text-gray-500">November 23, 2025</p>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-sm font-semibold text-[#16650F]">Rank: #5</span>
              <span class="text-sm font-semibold text-gray-700">Score: 150</span>
            </div>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg flex items-center justify-between">
            <div>
              <p class="font-semibold text-gray-700">Capture the Flag</p>
              <p class="text-sm text-gray-500">November 24, 2025</p>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-sm font-semibold text-[#16650F]">Rank: #1</span>
              <span class="text-sm font-semibold text-gray-700">Score: 280</span>
            </div>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg flex items-center justify-between">
            <div>
              <p class="font-semibold text-gray-700">Esports Tournament</p>
              <p class="text-sm text-gray-500">November 25, 2025</p>
            </div>
            <div class="flex items-center space-x-2">
              <span class="text-sm font-semibold text-[#16650F]">Rank: #12</span>
              <span class="text-sm font-semibold text-gray-700">Score: 90</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('profile-pic-upload').addEventListener('change', function (event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          document.getElementById('profile-pic-preview').src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    document.getElementById('password-form').addEventListener('submit', function (event) {
      event.preventDefault();
      const oldPassword = document.getElementById('old-password').value;
      const newPassword = document.getElementById('new-password').value;
      console.log('Old Password:', oldPassword);
      console.log('New Password:', newPassword);
      alert('Password change request submitted. (This is a placeholder, no real change has been made)');
      document.getElementById('old-password').value = '';
      document.getElementById('new-password').value = '';
    });

    function generateQRCode(text) {
      const typeNumber = 0;
      const errorCorrectionLevel = 'L';
      const qr = qrcode(typeNumber, errorCorrectionLevel);
      qr.addData(text);
      qr.make();
      const canvas = document.getElementById('qrcode');
      const context = canvas.getContext('2d');
      const size = 256;
      canvas.width = size;
      canvas.height = size;
      qr.renderTo2dContext(context, 0, 0, size, size);
      document.getElementById('download-qr').href = canvas.toDataURL('image/png');
    }

    // This is a placeholder for dynamic user data. In a real application, this would come from a server.
    const userData = "abecon2025_user_id_12345";
    generateQRCode(userData);
  </script>
</body>

</html>